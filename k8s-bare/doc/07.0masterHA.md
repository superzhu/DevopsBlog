# Master API Server High Availability

Use haproxy for load balancing, keepalived for VIP to provide HA for Kubernetes API servers.

Check keepalived master:
```bash
  ip addr list ens160

  output:
  2: ens160: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq state UP group default qlen 1000
    link/ether 00:0c:29:b7:79:d9 brd ff:ff:ff:ff:ff:ff
    inet 10.220.209.202/24 brd 10.220.209.255 scope global ens160
       valid_lft forever preferred_lft forever
    inet 10.220.209.200/24 scope global secondary ens160
       valid_lft forever preferred_lft forever

```









## keepalived
  1. [keepalived manpage](https://www.keepalived.org/manpage.html)
  2. [keepalived download](https://www.keepalived.org/software/)
  3. [VRRP and 4 simple steps to set it up on Ubuntu](https://medium.com/@abhilashkulkarni340/vrrp-and-4-simple-steps-to-set-it-up-on-ubuntu-454c46abb3b4)
